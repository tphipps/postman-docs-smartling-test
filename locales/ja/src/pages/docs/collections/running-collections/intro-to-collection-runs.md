---
title: "コレクションランナーの使用"
updated: 2023-03-15
search_keyword: "postman.setNextRequest, setNextRequest"
contextual_links: 
    - 
        type: "節"
        name: "前提 条件"
    - 
        type: "リンク"
        name: "要求の送信"
        url: "/docs/送信リクエスト/リクエスト/"
    - 
        type: "リンク"
        name: "コレクション内の要求のグループ化"
        url: "/docs/送信リクエスト/コレクション入門/"
    - 
        type: "節"
        name: "関連資料"
    - 
        type: "字幕"
        name: "ビデオ"
    - 
        type: "リンク"
        name: "コレクション実行の応答データのログ記録 |郵便配達員レベルアップ"
        url: "https://youtu.be/UreV_7fHKiU"
    - 
        type: "リンク"
        name: "郵便配達員の紹介|コレクションの実行"
        url: "https://youtu.be/8UR1NzuT7jg"
    - 
        type: "dynamic_blog"
        name: "ブログ記事"
        blog_tag: "コレクション"
    - 
        type: "字幕"
        name: "事例研究"
    - 
        type: "リンク"
        name: "Lightspeedは、コレクションランナーを使用してテストとQA時間を改善します"
        url: "https://www.postman.com/case-studies/lightspeed-commerce/"
---
*コレクションランナー* を使用すると、コレクションのリクエストを指定した順序で実行できます。要求 [テストの結果を](/docs/writing-scripts/test-scripts/) ログに記録し、 [スクリプト](/docs/writing-scripts/intro-to-scripts/) を使用して要求間でデータを渡したり、要求ワークフローを変更したりできます。

コレクションランナーは、開発ニーズに合わせて設定できます。 特定の環境を使用してコレクションを実行でき、データ ファイルを実行に渡すことができます。 コレクションの実行を使用すると、API テストを自動化でき、 [コレクションランナー](/docs/collections/running-collections/scheduling-collection-runs/) または [モニター](/docs/collections/running-collections/scheduling-collection-runs-monitors/)を使用して Postman クラウドで実行するように実行をスケジュールできます。 また、コマンド ラインから直接コレクションを実行およびテストできる [Postman ツールである Postman CLI](/docs/postman-cli/postman-cli-overview/)を使用して、コレクションの実行を CI/CD パイプラインと統合することもできます。

内容
---

* [コレクション実行の構成](#configuring-a-collection-run)
* [実行結果のデバッグ](#debugging-run-results)
* [コレクション実行の共有](#sharing-collection-runs)
* [収集実行の自動化](#automating-collection-runs)
* [次のステップ](#next-steps)

コレクション実行の構成
-----------

1. サイドバーで **\[コレクション** \] を選択し、実行するコレクションを選択します。

2. \[概要\] タブで、 \[ ![ランナーアイコン](https://assets.postman.com/postman-docs/icon-runner-v9.jpg#icon) **実行\]** を選択します。

   ![コレクションの概要から \[実行\] を選択します。](https://assets.postman.com/postman-docs/v10/collection-runner-button.jpg)  
   > 
   > Postman フッターから \[ランナー\] を選択し、サイドバーの ![ランナーアイコン](https://assets.postman.com/postman-docs/icon-runner-v9.jpg#icon) **\[** コレクション\]  または \[ **履歴** \] から **コレクション** をドラッグすることもできます。
3. \[ **手動で実行** \] を選択します。
   > 
   > CLI を使用して実行を [スケジュール](/docs/collections/running-collections/scheduling-collection-runs/) し [、実行を自動化](/docs/postman-cli/postman-cli-run-collection/)することもできます。
4. コレクションを環境で実行する場合は、Postman の右上にある環境セレクターを使用して選択します。 サイドバーで **環境** を選択してから、使用する環境を選択することもできます。

5. 構成オプションを選択します。

   * **イテレーション** \- コレクション実行のイテレーション数。 また、異なるデータセットでコレクションを複数回実行して [、ワークフローを構築する](/docs/collections/running-collections/building-workflows/)こともできます。
   * **遅延** \- 各要求間の間隔遅延 \(ミリ秒単位\)。
   * **データ** \- コレクション実行 [のデータ ファイル](/docs/collections/running-collections/working-with-data-files/) 。
   * **セッションの応答を保持する** \- 応答ヘッダーと本文をログに記録して、コレクションの実行後に確認できるようにします。 大規模なコレクションの場合、応答を永続化するとパフォーマンスに影響する可能性があります。
   > 
   > 要求と応答の詳細は、現在の Postman セッション中にローカルに保持され、永続的に保存されません。 Postman からサインアウトするか、同じアカウントで別のデバイスにサインインするか、ブラウザーを更新すると、セッションが終了し、ログに記録されたデータが削除されます。
   * **詳細設定** 
     * **\[エラーが発生したら実行を停止する** \] \- 既定では、スクリプト内で例外が発生した場合、または要求の送信で問題が発生した場合に、コレクションの実行が停止します。 エラーが発生した後もコレクションの実行を続行する場合は、このチェックボックスをオフにします。
     * **変数値を保持する** \- 実行で使用される変数を保持して、実行によって更新された変数が完了後も変更されたままになるようにします。 変数を永続化しない場合、実行の完了後に変更は保存されません。 *コレクションの実行で変数を永続化すると、現在の値のみが更新されることに注意してください。* 
     * **保存された Cookie を使用せずにコレクションを実行する** \- 要求で Cookie が使用されている場合は、必要に応じてコレクションの実行のためにそれらを非アクティブ化できます。
     * **収集実行後にクッキーを保存する** \- このセッションで使用したクッキーをクッキーマネージャーに保存します。 実行中に要求によって変更された値は、完了後も残ります。

6. 既定では、要求はコレクションに一覧表示されている順序で実行されます。 実行順序を変更する必要がある場合は、要求を選択して順序内の新しい場所にドラッグします。 名前の横にあるチェックボックスをオフにすることで、実行から個々の要求を削除することもできます。
   > 
   > [ワークフローの作成](/docs/collections/running-collections/building-workflows/)に使用するsetNextRequest要求スクリプトから実行フローを変更できます。
7. 構成が完了したら、 \[ **実行 \(コレクション名\)\]** を選択します。

![コレクション ランナーの構成](https://assets.postman.com/postman-docs/v10/collection-run-configuration-v10-12.jpg)
> 
> [郵便配達員プラン](https://www.postman.com/pricing/) では、毎月使用できるコレクションの実行数が限られています。この制限は、\[ **手動で実行** \] オプションを使用してワークスペースまたはスクラッチ パッドで実行するコレクションに適用されます。 この制限は、Postman クラウドでの [スケジュールされたコレクションの実行](/docs/collections/running-collections/scheduling-collection-runs/) には適用されません。 複数の反復処理を含むコレクションの実行は、1 回の実行としてカウントされます。
> 
> 使用制限に近づくと、コレクションランナーにメッセージが表示されます。 Postman の [リソース使用状況](/docs/administration/resource-usage/) の詳細については、こちらを参照してください。

実行結果のデバッグ
---------

コレクションを手動で実行すると、Postman は要求の実行結果とテスト結果をリアルタイムで表示します。 コレクション実行のソース、選択した環境、反復回数、合計期間、テスト数、および平均応答時間を表示できます。

![コレクションランナーの結果](https://assets.postman.com/postman-docs/v10/collection-run-results-v10-12a.jpg)

コレクションの実行中に何が起こったかを調べるには、次のいずれかの操作を行います。

* 要求を選択すると、要求の詳細が表示されます。 要求と要求ヘッダーと本文に関する一般的な情報を表示できます。   [コレクション実行の構成](#configuring-a-collection-run)時に \[セッションの応答を保持する\] オプションを選択した場合は、応答ヘッダーと本文を表示することもできます。

* 要求の名前を選択して、新しいタブで要求を開きます。 テスト スクリプトを表示するか、\[送信\] を選択して要求を再 **送信** できます。

*  **\[成功** \]、\[ **失敗** \]、または **\[スキップ\]** タブを選択して、テストの状態によって結果をフィルター処理します。すべての要求を表示するには、\[ **すべてのテスト\]** タブを選択します。 コレクションの実行中に要求スクリプト内のいずれかのテストが失敗した場合、要求全体が失敗します。

* コレクションの実行に複数のイテレーションが含まれている場合は、イテレーション番号を選択して、特定のイテレーションの結果にジャンプします。

* \[ **すべての実行の表示** \] を選択して、過去の実行の一覧を表示します。  [実行履歴の表示](#viewing-run-history)の詳細については、こちらを参照してください。

* \[ **概要の表示** \] を選択して、テスト結果を含むコレクションの実行の概要を表示します。 完全な結果に戻るには、\[ **結果の表示\]** を選択します。

![コレクションランナーの概要](https://assets.postman.com/postman-docs/v10/collection-run-summary-v10-12.jpg)

実行履歴の表示
-------

各コレクションには **\[実行** \] タブがあり、過去のコレクションの実行とスケジュールされたコレクションの実行が表示されます。  **\[実行\]** タブには、テスト数と、期間や平均応答時間などのメトリックも表示されます。

![\[コレクションの実行履歴\] タブ](https://assets.postman.com/postman-docs/v10/collection-past-run-tab-v10-13.jpg)

**\[実行** \] タブには、\[ **過去の** 実行\] と **\[スケジュールされた実行\]** の 2 つのタブがあります。

### \[過去の実行\] タブ

**\[過去の実行** \] タブには、表示するコレクション実行の数を選択し、表示される実行を、選択したユーザー、選択したステータス、およびコレクションランナーまたは Postman CLI からの実行に制限するコントロールがあります。

コレクション実行ごとに以下が表示されます。

* 各実行のチェックボックスと、すべての実行を選択するオプション。 
  * 1 つ以上のコレクション実行を選択し、\[ **削除** \] を選択して削除します。

* コレクション実行の開始時刻。
* 実行ソース、期間、すべてのテスト、成功したテスト、失敗したテスト、スキップされたテスト、および平均応答時間。 これらの項目のいずれかを選択して、その項目でテーブルを並べ替えます。 並べ替え順序を変更するには、もう一度選択します。

項目にカーソルを合わせると、次のコントロールが表示されます。

* **\[レポートの表示** \] \- コレクション実行の完全な結果を開く場合に選択します。 [実行結果のデバッグ](#debugging-run-results)の詳細については、こちらを参照してください。
* **共有** \- 結果を別のチーム メンバーと共有する場合に選択します。 これにより、他のチーム メンバーに提供できるリンクが提供され、他のチーム メンバーはこの実行の詳細を表示できるようになります。 これは個人用ワークスペースでは機能しないことに注意してください。

\[スケジュールされた実行\] タブ
------------------

**\[スケジュールされた実行\]** タブには、現在のコレクションに対してスケジュールされたすべての実行が表示されます。スケジュールされた実行ごとに、以下が表示されます。

* 次の実行のスケジュール時刻
* スケジュールされた実行の名前
* スケジュールされた実行に関連付けられている環境 \(存在する場合\)

項目にカーソルを合わせると、次のコントロールが表示されます。

* **表示** \- スケジュールされたコレクション実行の最新結果の詳細を示すページを開く場合に選択します。
* **その他のアクション アイコン** ![その他のアクション アイコン](https://assets.postman.com/postman-docs/icon-more-actions-v9.jpg#icon) \- スケジュールを [一時停止、再開、編集、または削除](/docs/collections/running-collections/scheduling-collection-runs/#pausing-or-resuming-a-scheduled-run) する場合に選択します。

コレクション実行の共有
-----------

コレクションランナーから結果をエクスポートすることで、コレクション実行結果を他のユーザーと共有できます。
> 
> \[ **結果のエクスポート** \] ボタンは、Postman デスクトップ アプリで使用できますが、Web バージョンでは使用できません。 

コレクション実行をエクスポートするには、次の手順を実行します。

1. **ランナー** でコレクションランを開きます。実行を開いていない場合は、 **サイドバーの履歴** を使用してコレクションの実行にアクセスすることもできます。
2. 右上の \[ **結果のエクスポート** \] を選択して、実行をダウンロードします。
3. ダウンロードしたコレクションの実行を保存する場所を選択し、\[ **保存** \] を選択します。

収集実行の自動化
--------

コレクションを手動で実行するだけでなく、コレクションランナーを使用すると、Postman クラウドで指定した時間に自動的に [実行されるようにコレクションをスケジュール](/docs/collections/running-collections/scheduling-collection-runs/) できます。 また、コレクションの実行を他の Postman ユーティリティと組み合わせて使用して、API プロジェクトにオートメーションを組み込むこともできます。

* [Postman CLI](/docs/postman-cli/postman-cli-overview/) コマンドラインインターフェイスを使用すると、コレクションを実行して開発パイプラインに組み込み、テスト結果に応答して API パフォーマンスをサポートできます。
* [Newman](/docs/collections/using-newman-cli/command-line-integration-with-newman/) インターフェイスでは、コマンド ラインからコレクションを実行することもできます。
* コレクションに [モニター](/docs/monitoring-your-api/intro-monitors/) を追加すると、コレクションの実行をスケジュールし、問題を常に把握できます。
* また、コレクション [Webhook](/docs/collections/running-collections/collection-webhooks/) を設定して、独自のカスタムペイロードを使用して特定の時間にコレクションの実行をトリガーすることもできます。

次のステップ
------

学習したコレクションランナーの基礎を使用して、ワークフローでその機能を拡張します。

* スクリプトを使用して、コレクション内の要求を実行するための条件付きシーケンスを持つワークフローを構築する方法については、「 [要求ワークフローの構築](/docs/collections/running-collections/building-workflows/)」を参照してください。

